<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Project</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>

    <style>
        body {
            padding: 0;
            margin: 0;
            font-family: 'Ropa Sans', sans-serif;
            color: #607D8B;
        }

        .container {
            max-width: 1500px;
            margin: auto;
        }

        .nav-item {
            width: 150%;
            height: 50px;
            padding: 0;
            margin: 0;
            background: #607D8B;
        }

        .nav-item .nav-list {
            list-style-type: none;
            display: inline-block;
        }

        .nav-item .nav-list>a {
            text-decoration: none;
            display: inline-block;
            color: #fff;
            padding: 1.5pc;
            font-size: 18px;
            text-transform: uppercase;
            border: 3px solid #607D8B;
        }

        .nav-item .nav-list>a:hover {
            background: #fff;
            border-radius: 5px;
            color: #00000;
        }

        .header-bar {
            width: 100%;
            padding: 30px;
            background: #ffffff;
        }

            .all-contents {
              height: 1000px;
              margin-top: 5pc;
              display: flex;
            }


            .intro-contents {
              margin-top: 5pc;
              display: flex;
            }

            .background-container {
              width: 50%;
            }

            .background-container {
              display: flex;
              flex-direction: column;
            }
            .background-container {
              border-radius: 3px;
            }
            .background-container {
              background: #f2f2f2;
              padding: 20px;
              border-radius: 3px;
              color: #4e4e4e
            }
            .background-container {
              margin: 5px 1pc;
            }

            .pm-container {
              width: 50%;
            }

            .pm-container {
              display: flex;
              flex-direction: column;
            }
            .pm-container {
              border-radius: 3px;
            }
            .pm-container {
              background: #f2f2f2;
              padding: 20px;
              border-radius: 3px;
              color: #4e4e4e
            }
            .pm-container {
              margin: 5px 1pc;
            }

        h1,
        h2,
        h3 {
            margin: 0;
        }

        h1 {
            font-size: 30px;
            padding: 10px 0;
        }

        h3 {
            padding: 7px;
        }
    </style>

    <style>
        html,
        body {
            height: 100%;
            margin: 0;
        }

        #map {
            width: 65%;
            height: 650px;
        }
    </style>

    <style>
        .legend {
            line-height: 10px;
            color: #555;
        }
        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.9;
        }
        .info {
            padding: 6px 8px;
            font: 10px/20px Arial, Helvetica, sans-serif;
            background: rgba(255,255,255,0.8);
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            border-radius: 5px;
          width: 150px;
        }
        .info h4 {
            margin: 0 0 5px;
            color: #777;
        }
    </style>
</head>

<body>

      <div class="header-bar">
        <div class="container">
            <h1 style=text-align:center;>Air Pollution and Respiratory Diseases Issue in South Korea</h1>
            <br>
            <h3 style=text-align:center><i>Meen Wook Jung*</i></h3>
            <p style=text-align:center><i>Community and Regional Planning, College of Design, Iowa State University</i></p>
        </div>
    </div>

      <div class="navbar">
          <div class="nav-item"></div>
      </div>

      <br>

      <div class="background-container">
        <div class="background">
          <h3 style="text-align: center;">Project Background</h3>
          <p style="text-align: justify;">&nbsp&nbsp Air pollution has been recently recognized as a severe issue in South Korea. Since the Korean government officially started observing Particulate Matter (PM) in 2005, the level of air quality marked the worst in March 2019. In addition, Greenpeace’s analysis of the 2019 World Air Quality Report not only indicated that the Korean annual-average fine PM concentrations were the highest level among OECD member countries but also highlighted that the level has been continuously increasing. Therefore, it is expected that the increasing pollutants have been being combined with air stagnation from Urban Heat Island, resulting in a serious public health issue. According to Shin (2017), micron particle-sized fine dust can be associated with stroke and respiratory disease by accumulating in the brain and lungs.
<br>
&nbsp&nbsp Despite those health concerns, there is not enough data on how the micron-sized particles had affected respiratory disease-related death. To address this issue, it is necessary to accumulate the long-term data associated with fine dust particulate and respiratory disease. This project is the very starting point for analyzing the relationships. Therefore, this project aims to visualize not only fine dust and mortality data but also the result of the correlation analysis.
          </p>
        </div>
      </div>

  <div class="pm-container">
        <div class="background">
          <h3 style="text-align: center;">Project Background</h3>
          <p style="text-align: justify;">&nbsp&nbsp Air pollution has been recently recognized as a severe issue in South Korea. Since the Korean government officially started observing Particulate Matter (PM) in 2005, the level of air quality marked the worst in March 2019. In addition, Greenpeace’s analysis of the 2019 World Air Quality Report not only indicated that the Korean annual-average fine PM concentrations were the highest level among OECD member countries but also highlighted that the level has been continuously increasing. Therefore, it is expected that the increasing pollutants have been being combined with air stagnation from Urban Heat Island, resulting in a serious public health issue. According to Shin (2017), micron particle-sized fine dust can be associated with stroke and respiratory disease by accumulating in the brain and lungs.
<br>
&nbsp&nbsp Despite those health concerns, there is not enough data on how the micron-sized particles had affected respiratory disease-related death. To address this issue, it is necessary to accumulate the long-term data associated with fine dust particulate and respiratory disease. This project is the very starting point for analyzing the relationships. Therefore, this project aims to visualize not only fine dust and mortality data but also the result of the correlation analysis.
          </p>
        </div>
      </div>

            <div id='map'></div>

            <script type="text/javascript" src="https://andyjung82.github.io/CRP558/final_project_geojson/mor/mor.geojson"></script>

            <script type="text/javascript">

              var map = L.map('map').setView([35.65664, 127.81270], 7);

              L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                    maxZoom: 18,
                    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                        '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                    id: 'mapbox/light-v9',
                    tileSize: 512,
                    zoomOffset: -1
                }).addTo(map);

                function color(d) {
                    return d > 194.600001 ?'#000000' :
                        d > 167.500001 ? '#333333' :
                        d > 125.250001 ? '#666666' :
                        d > 85.000001 ? '#999999' :
                        d > 60.500001 ? '#cccccc' :
                        '#ffffff';
                }

                function mystyle1(feature) {
                    return {
                        weight: 0.5,
                        opacity: 1,
                        color: 'black',
                        fillOpacity: 1,
                        fillColor: color(feature.properties.MOR_14)
                    };
                }

                function mystyle2(feature) {
                    return {
                        weight: 0.5,
                        opacity: 1,
                        color: 'black',
                        fillOpacity: 1,
                        fillColor: color(feature.properties.MOR_15)
                    };
                }

                function mystyle3(feature) {
                    return {
                        weight: 0.5,
                        opacity: 1,
                        color: 'black',
                        fillOpacity: 1,
                        fillColor: color(feature.properties.MOR_16)
                    };
                }

              function mystyle4(feature) {
                    return {
                        weight: 0.5,
                        opacity: 1,
                        color: 'black',
                        fillOpacity: 1,
                        fillColor: color(feature.properties.MOR_17)
                    };
                }

              function mystyle5(feature) {
                    return {
                        weight: 0.5,
                        opacity: 1,
                        color: 'black',
                        fillOpacity: 1,
                        fillColor: color(feature.properties.MOR_18)
                    };
                }

                function highlightFeature(e) {
                    var layer = e.target;
                }

                function resetHighlight(e) {
                    geojson.resetStyle(e.target);
                    info.update();
                }

                function zoomToFeature(e) {
                    map.fitBounds(e.target.getBounds());
                }

                function onEachFeature1(feature, layer) {
                    layer.bindPopup("<strong>Observation Location </strong>" + feature.properties.SIG_ENG_NM + "<br/>" + "<strong><i>2014</i> Respiratory Diseases Mortality (persons) </strong>" + feature.properties.MOR_14);
                    layer.on({
                        mouseover: highlightFeature,
                        mouseout: resetHighlight,
                    });
                }

                function onEachFeature2(feature, layer) {
                    layer.bindPopup("<strong>Observation Location </strong>" + feature.properties.SIG_ENG_NM + "<br/>" + "<strong><i>2015</i> Respiratory Diseases Mortality (persons) </strong>" + feature.properties.MOR_15);
                    layer.on({
                        mouseover: highlightFeature,
                        mouseout: resetHighlight,
                    });
                }

              function onEachFeature3(feature, layer) {
                    layer.bindPopup("<strong>Observation Location </strong>" + feature.properties.SIG_ENG_NM + "<br/>" + "<strong><i>2016</i> Respiratory Diseases Mortality (persons) </strong>" + feature.properties.MOR_16);
                    layer.on({
                        mouseover: highlightFeature,
                        mouseout: resetHighlight,
                    });
                }

              function onEachFeature4(feature, layer) {
                    layer.bindPopup("<strong>Observation Location </strong>" + feature.properties.SIG_ENG_NM + "<br/>" + "<strong><i>2017</i> Respiratory Diseases Mortality (persons) </strong>" + feature.properties.MOR_17);
                    layer.on({
                        mouseover: highlightFeature,
                        mouseout: resetHighlight,
                    });
                }

              function onEachFeature5(feature, layer) {
                    layer.bindPopup("<strong>Observation Location </strong>" + feature.properties.SIG_ENG_NM + "<br/>" + "<strong><i>2018</i> Respiratory Diseases Mortality (persons) </strong>" + feature.properties.MOR_18);
                    layer.on({
                        mouseover: highlightFeature,
                        mouseout: resetHighlight,
                    });
                }

                var mor14 = new L.geoJson(mor, {
                    style: mystyle1,
                    onEachFeature: onEachFeature1
                }).addTo(map);

                var mor15 = new L.geoJson(mor, {
                    style: mystyle2,
                    onEachFeature: onEachFeature2
                }).addTo(map);

                var mor16 = new L.geoJson(mor, {
                    style: mystyle3,
                    onEachFeature: onEachFeature3
                }).addTo(map);

                var mor17 = new L.geoJson(mor, {
                    style: mystyle4,
                    onEachFeature: onEachFeature4
                }).addTo(map);

                var mor18 = new L.geoJson(mor, {
                    style: mystyle5,
                    onEachFeature: onEachFeature5
                }).addTo(map);

                var legend1 = L.control({
                      position: 'bottomright'
                  });

                    legend1.onAdd = function(map) {

                        var div = L.DomUtil.create('div', 'info legend'),
                            grades = [6, 60, 85, 125, 167, 194],
                            labels = ["<b>Respiratory Diseases Mortality <br> <i>(persons)</i></b>"],
                            from, to;

                        for (var i = 0; i < grades.length; i++) {
                            from = grades[i];
                            to = grades[i + 1];

                            labels.push(
                                '<i style="background:' + color(from + 1) + '"></i> ' +
                                from + (to ? '&ndash;' + to : '-303'));
                        }

                        div.innerHTML = labels.join('<br>');
                        return div;
                    };

                    legend1.addTo(map);

              var baseMaps = {
                  "Respiratory Diseases Mortality 2014": mor14,
                  "Respiratory Diseases Mortality 2015": mor15,
                  "Respiratory Diseases Mortality 2016": mor16,
                  "Respiratory Diseases Mortality 2017": mor17,
                  "Respiratory Diseases Mortality 2018": mor18,
                };

		L.control.layers(baseMaps).addTo(map);
            </script>
</body>

</html>
